@model Tuple<List<SmartBankUi.Models.Transaction>, int>
@{
    ViewBag.Title = "History";
}

<h2>Transaction history for account: @Model.Item2</h2>

<table class="table">
    <tr>
        <th>
            Transaction Date
        </th>
        <th>
            Source Account
        </th>
        <th>
            Destination Account
        </th>
        <th>
            Amount
        </th>
    </tr>
    @foreach (var trans in Model.Item1)
    {
        <tr>
            <td>
                @trans.TransactionDateTime.Date.ToShortDateString()
            </td>
            <td>
                @trans.SourceAccountNumber
                @if (Model.Item2.Equals(trans.SourceAccountNumber))
                {
                    <text>(yours)</text>
                }
            </td>
            <td>
                @trans.RecipientAccountNumber
                @if (Model.Item2.Equals(trans.RecipientAccountNumber))
                {
                    <text>(yours)</text>
                }
            </td>
            <td>
                @if (Model.Item2.Equals(trans.SourceAccountNumber))
                {
                    <text>-</text>
                }@trans.Amount Ft
            </td>
        </tr>
    }
</table>